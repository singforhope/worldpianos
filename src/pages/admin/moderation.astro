---
import AdminLayout from "../../layouts/AdminLayout.astro";
import FlaggedContent from "../../components/admin/FlaggedContent.astro";
import ReportsManagement from "../../components/admin/ReportsManagement.astro";
import ModerationTools from "../../components/admin/ModerationTools.astro";

// Get query parameters
const { searchParams } = Astro.url;
const tab = searchParams.get('tab') || 'flagged';
---

<AdminLayout>
    <div class="text-sm breadcrumbs mb-6">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/admin/dashboard">Admin Dashboard</a></li>
            <li>Content Moderation</li>
        </ul>
    </div>
    
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8">
        <h1 class="text-3xl font-bold">Content Moderation</h1>
    </div>
    
    <!-- Tabs -->
    <div class="tabs tabs-boxed mb-6">
        <a href="?tab=flagged" class={`tab ${tab === 'flagged' ? 'tab-active' : ''}`}>Flagged Content</a>
        <a href="?tab=reports" class={`tab ${tab === 'reports' ? 'tab-active' : ''}`}>Recent Reports</a>
        <a href="?tab=tools" class={`tab ${tab === 'tools' ? 'tab-active' : ''}`}>Moderation Tools</a>
    </div>
    
    <!-- Tab Content -->
    {tab === 'flagged' && <FlaggedContent />}
    {tab === 'reports' && <ReportsManagement />}
    {tab === 'tools' && <ModerationTools />}
</AdminLayout>
