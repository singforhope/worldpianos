import{c as T,g as Ct,a as qt,m as Mt}from"./mapbox-gl.DMBwQGmc.js";var W,Te;function j(){if(Te)return W;Te=1,W=s;var g=Object.prototype.hasOwnProperty;function s(){for(var r={},n=0;n<arguments.length;n++){var t=arguments[n];for(var o in t)g.call(t,o)&&(r[o]=t[o])}return r}return W}var Z={exports:{}},Ie;function At(){return Ie||(Ie=1,function(g,s){(function(){var r={};g.exports=r,r.simpleFilter=function(n,t){return t.filter(function(o){return r.test(n,o)})},r.test=function(n,t){return r.match(n,t)!==null},r.match=function(n,t,o){o=o||{};var a=0,c=[],i=t.length,h=0,b=0,v=o.pre||"",E=o.post||"",L=o.caseSensitive&&t||t.toLowerCase(),d;n=o.caseSensitive&&n||n.toLowerCase();for(var e=0;e<i;e++)d=t[e],L[e]===n[a]?(d=v+d+E,a+=1,b+=1+b):b=0,h+=b,c[c.length]=d;return a===n.length?(h=L===n?1/0:h,{rendered:c.join(""),score:h}):null},r.filter=function(n,t,o){return!t||t.length===0?[]:typeof n!="string"?t:(o=o||{},t.reduce(function(a,c,i,h){var b=c;o.extract&&(b=o.extract(c));var v=r.match(n,b,o);return v!=null&&(a[a.length]={string:v.rendered,score:v.score,index:i,original:c}),a},[]).sort(function(a,c){var i=c.score-a.score;return i||a.index-c.index}))}})()}(Z)),Z.exports}var J,Pe;function kt(){if(Pe)return J;Pe=1;var g=function(s){return this.component=s,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,s.el.parentNode.insertBefore(this.wrapper,s.el.nextSibling),this};return g.prototype.show=function(){this.element.style.display="block"},g.prototype.hide=function(){this.element.style.display="none"},g.prototype.add=function(s){this.items.push(s)},g.prototype.clear=function(){this.items=[],this.active=0},g.prototype.isEmpty=function(){return!this.items.length},g.prototype.isVisible=function(){return this.element.style.display==="block"},g.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var s=0;s<this.items.length;s++)this.drawItem(this.items[s],this.active===s);this.show()},g.prototype.drawItem=function(s,r){var n=document.createElement("li"),t=document.createElement("a");r&&(n.className+=" active"),t.innerHTML=s.string,n.appendChild(t),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,s)}.bind(this))},g.prototype.handleMouseUp=function(s){this.selectingListItem=!1,this.component.value(s.original),this.clear(),this.draw()},g.prototype.move=function(s){this.active=s,this.draw()},g.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)},g.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},g.prototype.drawError=function(s){var r=document.createElement("li");r.innerHTML=s,this.element.appendChild(r),this.show()},J=g,J}var X,je;function Tt(){if(je)return X;je=1;var g=j(),s=At(),r=kt(),n=function(t,o,a){return a=a||{},this.options=g({minLength:2,limit:5,filter:!0,hideOnBlur:!0},a),this.el=t,this.data=o||[],this.list=new r(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(c){this.handleKeyUp(c.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(c){this.handleKeyDown(c)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(c){this.handlePaste(c)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};return n.prototype.handleKeyUp=function(t){t===40||t===38||t===27||t===13||t===9||this.handleInputChange(this.el.value)},n.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}},n.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},n.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var o=this;setTimeout(function(){o.handleInputChange(t.target.value)},100)}},n.prototype.handleInputChange=function(t){if(this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates(function(o){for(var a=0;a<o.length&&(this.list.add(o[a]),a!==this.options.limit-1);a++);this.list.draw()}.bind(this))},n.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},n.prototype.update=function(t){this.data=t,this.handleKeyUp()},n.prototype.clear=function(){this.data=[],this.list.clear()},n.prototype.normalize=function(t){return t=t.toLowerCase(),t},n.prototype.match=function(t,o){return t.indexOf(o)>-1},n.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent("change",!0,!1),this.el.dispatchEvent(o)}else this.el.fireEvent("onchange")},n.prototype.getCandidates=function(t){var o={pre:"<strong>",post:"</strong>",extract:function(c){return this.getItemValue(c)}.bind(this)},a;this.options.filter?(a=s.filter(this.query,this.data,o),a=a.map(function(c){return{original:c.original,string:this.render(c.original,c.string)}}.bind(this))):a=this.data.map(function(c){var i=this.render(c);return{original:c,string:i}}.bind(this)),t(a)},n.prototype.getItemValue=function(t){return t},n.prototype.render=function(t,o){if(o)return o;for(var a=t.original?this.getItemValue(t.original):this.getItemValue(t),c=this.normalize(a),i=c.lastIndexOf(this.query);i>-1;){var h=i+this.query.length;a=a.slice(0,i)+"<strong>"+a.slice(i,h)+"</strong>"+a.slice(h),i=c.slice(0,i).lastIndexOf(this.query)}return a},n.prototype.renderError=function(t){this.list.drawError(t)},X=n,X}var Y,Be;function It(){if(Be)return Y;Be=1;var g=Tt();return Y=g,typeof window<"u"&&(window.Suggestions=g),Y}var ee,Ne;function Pt(){if(Ne)return ee;Ne=1;var g="Expected a function",s=NaN,r="[object Symbol]",n=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt,i=typeof T=="object"&&T&&T.Object===Object&&T,h=typeof self=="object"&&self&&self.Object===Object&&self,b=i||h||Function("return this")(),v=Object.prototype,E=v.toString,L=Math.max,d=Math.min,e=function(){return b.Date.now()};function u(l,f,y){var w,O,R,S,C,M,I=0,qe=!1,B=!1,$=!0;if(typeof l!="function")throw new TypeError(g);f=p(f)||0,m(y)&&(qe=!!y.leading,B="maxWait"in y,R=B?L(p(y.maxWait)||0,f):R,$="trailing"in y?!!y.trailing:$);function Q(q){var k=w,N=O;return w=O=void 0,I=q,S=l.apply(N,k),S}function Lt(q){return I=q,C=setTimeout(V,f),qe?Q(q):S}function Rt(q){var k=q-M,N=q-I,ke=f-k;return B?d(ke,R-N):ke}function Me(q){var k=q-M,N=q-I;return M===void 0||k>=f||k<0||B&&N>=R}function V(){var q=e();if(Me(q))return Ae(q);C=setTimeout(V,Rt(q))}function Ae(q){return C=void 0,$&&w?Q(q):(w=O=void 0,S)}function Ot(){C!==void 0&&clearTimeout(C),I=0,w=M=O=C=void 0}function St(){return C===void 0?S:Ae(e())}function K(){var q=e(),k=Me(q);if(w=arguments,O=this,M=q,k){if(C===void 0)return Lt(M);if(B)return C=setTimeout(V,f),Q(M)}return C===void 0&&(C=setTimeout(V,f)),S}return K.cancel=Ot,K.flush=St,K}function m(l){var f=typeof l;return!!l&&(f=="object"||f=="function")}function x(l){return!!l&&typeof l=="object"}function _(l){return typeof l=="symbol"||x(l)&&E.call(l)==r}function p(l){if(typeof l=="number")return l;if(_(l))return s;if(m(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=m(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=l.replace(n,"");var y=o.test(l);return y||a.test(l)?c(l.slice(2),y?2:8):t.test(l)?s:+l}return ee=u,ee}var D={exports:{}},Ge;function jt(){if(Ge)return D.exports;Ge=1;var g=typeof Reflect=="object"?Reflect:null,s=g&&typeof g.apply=="function"?g.apply:function(l,f,y){return Function.prototype.apply.call(l,f,y)},r;g&&typeof g.ownKeys=="function"?r=g.ownKeys:Object.getOwnPropertySymbols?r=function(l){return Object.getOwnPropertyNames(l).concat(Object.getOwnPropertySymbols(l))}:r=function(l){return Object.getOwnPropertyNames(l)};function n(p){console&&console.warn&&console.warn(p)}var t=Number.isNaN||function(l){return l!==l};function o(){o.init.call(this)}D.exports=o,D.exports.once=m,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function c(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(p){if(typeof p!="number"||p<0||t(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");a=p}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(l){if(typeof l!="number"||l<0||t(l))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+l+".");return this._maxListeners=l,this};function i(p){return p._maxListeners===void 0?o.defaultMaxListeners:p._maxListeners}o.prototype.getMaxListeners=function(){return i(this)},o.prototype.emit=function(l){for(var f=[],y=1;y<arguments.length;y++)f.push(arguments[y]);var w=l==="error",O=this._events;if(O!==void 0)w=w&&O.error===void 0;else if(!w)return!1;if(w){var R;if(f.length>0&&(R=f[0]),R instanceof Error)throw R;var S=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw S.context=R,S}var C=O[l];if(C===void 0)return!1;if(typeof C=="function")s(C,this,f);else for(var M=C.length,I=d(C,M),y=0;y<M;++y)s(I[y],this,f);return!0};function h(p,l,f,y){var w,O,R;if(c(f),O=p._events,O===void 0?(O=p._events=Object.create(null),p._eventsCount=0):(O.newListener!==void 0&&(p.emit("newListener",l,f.listener?f.listener:f),O=p._events),R=O[l]),R===void 0)R=O[l]=f,++p._eventsCount;else if(typeof R=="function"?R=O[l]=y?[f,R]:[R,f]:y?R.unshift(f):R.push(f),w=i(p),w>0&&R.length>w&&!R.warned){R.warned=!0;var S=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(l)+" listeners added. Use emitter.setMaxListeners() to increase limit");S.name="MaxListenersExceededWarning",S.emitter=p,S.type=l,S.count=R.length,n(S)}return p}o.prototype.addListener=function(l,f){return h(this,l,f,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(l,f){return h(this,l,f,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(p,l,f){var y={fired:!1,wrapFn:void 0,target:p,type:l,listener:f},w=b.bind(y);return w.listener=f,y.wrapFn=w,w}o.prototype.once=function(l,f){return c(f),this.on(l,v(this,l,f)),this},o.prototype.prependOnceListener=function(l,f){return c(f),this.prependListener(l,v(this,l,f)),this},o.prototype.removeListener=function(l,f){var y,w,O,R,S;if(c(f),w=this._events,w===void 0)return this;if(y=w[l],y===void 0)return this;if(y===f||y.listener===f)--this._eventsCount===0?this._events=Object.create(null):(delete w[l],w.removeListener&&this.emit("removeListener",l,y.listener||f));else if(typeof y!="function"){for(O=-1,R=y.length-1;R>=0;R--)if(y[R]===f||y[R].listener===f){S=y[R].listener,O=R;break}if(O<0)return this;O===0?y.shift():e(y,O),y.length===1&&(w[l]=y[0]),w.removeListener!==void 0&&this.emit("removeListener",l,S||f)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(l){var f,y,w;if(y=this._events,y===void 0)return this;if(y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):y[l]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete y[l]),this;if(arguments.length===0){var O=Object.keys(y),R;for(w=0;w<O.length;++w)R=O[w],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(f=y[l],typeof f=="function")this.removeListener(l,f);else if(f!==void 0)for(w=f.length-1;w>=0;w--)this.removeListener(l,f[w]);return this};function E(p,l,f){var y=p._events;if(y===void 0)return[];var w=y[l];return w===void 0?[]:typeof w=="function"?f?[w.listener||w]:[w]:f?u(w):d(w,w.length)}o.prototype.listeners=function(l){return E(this,l,!0)},o.prototype.rawListeners=function(l){return E(this,l,!1)},o.listenerCount=function(p,l){return typeof p.listenerCount=="function"?p.listenerCount(l):L.call(p,l)},o.prototype.listenerCount=L;function L(p){var l=this._events;if(l!==void 0){var f=l[p];if(typeof f=="function")return 1;if(f!==void 0)return f.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function d(p,l){for(var f=new Array(l),y=0;y<l;++y)f[y]=p[y];return f}function e(p,l){for(;l+1<p.length;l++)p[l]=p[l+1];p.pop()}function u(p){for(var l=new Array(p.length),f=0;f<l.length;++f)l[f]=p[f].listener||p[f];return l}function m(p,l){return new Promise(function(f,y){function w(R){p.removeListener(l,O),y(R)}function O(){typeof p.removeListener=="function"&&p.removeListener("error",w),f([].slice.call(arguments))}_(p,l,O,{once:!0}),l!=="error"&&x(p,w,{once:!0})})}function x(p,l,f){typeof p.on=="function"&&_(p,"error",l,f)}function _(p,l,f,y){if(typeof p.on=="function")y.once?p.once(l,f):p.on(l,f);else if(typeof p.addEventListener=="function")p.addEventListener(l,function w(O){y.once&&p.removeEventListener(l,w),f(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p)}return D.exports}var te,ze;function Bt(){return ze||(ze=1,te={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}),te}var re,Fe;function Nt(){if(Fe)return re;Fe=1;function g(n){var t=n.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return t?{key:t[1],value:t[2]}:null}function s(n){var t=n.match(/<?([^>]*)>(.*)/);if(!t)return null;var o=t[1],a=t[2].split(";"),c=null,i=a.reduce(function(h,b){var v=g(b);return v?v.key==="rel"?(c||(c=v.value),h):(h[v.key]=v.value,h):h},{});return c?{url:o,rel:c,params:i}:null}function r(n){return n?n.split(/,\s*</).reduce(function(t,o){var a=s(o);if(!a)return t;var c=a.rel.split(/\s+/);return c.forEach(function(i){t[i]||(t[i]={url:a.url,params:a.params})}),t},{}):{}}return re=r,re}var ne,Ve;function Gt(){if(Ve)return ne;Ve=1;var g=Nt();function s(r,n){this.request=r,this.headers=n.headers,this.rawBody=n.body,this.statusCode=n.statusCode;try{this.body=JSON.parse(n.body||"{}")}catch{this.body=n.body}this.links=g(this.headers.link)}return s.prototype.hasNextPage=function(){return!!this.links.next},s.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},ne=s,ne}var ie,De;function H(){return De||(De=1,ie={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}),ie}var oe,Ue;function zt(){if(Ue)return oe;Ue=1;var g=H();function s(r){var n=r.type||g.ERROR_HTTP,t;if(r.body)try{t=JSON.parse(r.body)}catch{t=r.body}else t=null;var o=r.message||null;o||(typeof t=="string"?o=t:t&&typeof t.message=="string"?o=t.message:n===g.ERROR_REQUEST_ABORTED&&(o="Request aborted")),this.message=o,this.type=n,this.statusCode=r.statusCode||null,this.request=r.request,this.body=t}return oe=s,oe}var se,He;function Ft(){if(He)return se;He=1;function g(r){var n=r.indexOf(":"),t=r.substring(0,n).trim().toLowerCase(),o=r.substring(n+1).trim();return{name:t,value:o}}function s(r){var n={};return r&&r.trim().split(/[\r|\n]+/).forEach(function(t){var o=g(t);n[o.name]=o.value}),n}return se=s,se}var ae,$e;function Vt(){if($e)return ae;$e=1;var g=Gt(),s=zt(),r=H(),n=Ft(),t={};function o(v){var E=t[v.id];E&&(E.abort(),delete t[v.id])}function a(v,E){return new g(v,{body:E.response,headers:n(E.getAllResponseHeaders()),statusCode:E.status})}function c(v){var E=v.total,L=v.loaded,d=100*L/E;return{total:E,transferred:L,percent:d}}function i(v,E){return new Promise(function(L,d){E.onprogress=function(m){v.emitter.emit(r.EVENT_PROGRESS_DOWNLOAD,c(m))};var e=v.file;e&&(E.upload.onprogress=function(m){v.emitter.emit(r.EVENT_PROGRESS_UPLOAD,c(m))}),E.onerror=function(m){d(m)},E.onabort=function(){var m=new s({request:v,type:r.ERROR_REQUEST_ABORTED});d(m)},E.onload=function(){if(delete t[v.id],E.status<200||E.status>=400){var m=new s({request:v,body:E.response,statusCode:E.status});d(m);return}L(E)};var u=v.body;typeof u=="string"?E.send(u):u?E.send(JSON.stringify(u)):e?E.send(e):E.send(),t[v.id]=E}).then(function(L){return a(v,L)})}function h(v,E){var L=v.url(E),d=new window.XMLHttpRequest;return d.open(v.method,L),Object.keys(v.headers).forEach(function(e){d.setRequestHeader(e,v.headers[e])}),d}function b(v){return Promise.resolve().then(function(){var E=h(v,v.client.accessToken);return i(v,E)})}return ae={browserAbort:o,sendRequestXhr:i,browserSend:b,createRequestXhr:h},ae}var z={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */var Dt=z.exports,Qe;function Ut(){return Qe||(Qe=1,function(g,s){(function(r){var n=s,t=g&&g.exports==n&&g,o=typeof T=="object"&&T;(o.global===o||o.window===o)&&(r=o);var a=function(d){this.message=d};a.prototype=new Error,a.prototype.name="InvalidCharacterError";var c=function(d){throw new a(d)},i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,b=function(d){d=String(d).replace(h,"");var e=d.length;e%4==0&&(d=d.replace(/==?$/,""),e=d.length),(e%4==1||/[^+a-zA-Z0-9/]/.test(d))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var u=0,m,x,_="",p=-1;++p<e;)x=i.indexOf(d.charAt(p)),m=u%4?m*64+x:x,u++%4&&(_+=String.fromCharCode(255&m>>(-2*u&6)));return _},v=function(d){d=String(d),/[^\0-\xFF]/.test(d)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var e=d.length%3,u="",m=-1,x,_,p,l,f=d.length-e;++m<f;)x=d.charCodeAt(m)<<16,_=d.charCodeAt(++m)<<8,p=d.charCodeAt(++m),l=x+_+p,u+=i.charAt(l>>18&63)+i.charAt(l>>12&63)+i.charAt(l>>6&63)+i.charAt(l&63);return e==2?(x=d.charCodeAt(m)<<8,_=d.charCodeAt(++m),l=x+_,u+=i.charAt(l>>10)+i.charAt(l>>4&63)+i.charAt(l<<2&63)+"="):e==1&&(l=d.charCodeAt(m),u+=i.charAt(l>>2)+i.charAt(l<<4&63)+"=="),u},E={encode:v,decode:b,version:"0.1.0"};if(n&&!n.nodeType)if(t)t.exports=E;else for(var L in E)E.hasOwnProperty(L)&&(n[L]=E[L]);else r.base64=E})(Dt)}(z,z.exports)),z.exports}var ue,Ke;function yt(){if(Ke)return ue;Ke=1;var g=Ut(),s={};function r(o){if(s[o])return s[o];var a=o.split("."),c=a[0],i=a[1];if(!i)throw new Error("Invalid token");var h=n(i),b={usage:c,user:h.u};return t(h,"a")&&(b.authorization=h.a),t(h,"exp")&&(b.expires=h.exp*1e3),t(h,"iat")&&(b.created=h.iat*1e3),t(h,"scopes")&&(b.scopes=h.scopes),t(h,"client")&&(b.client=h.client),t(h,"ll")&&(b.lastLogin=h.ll),t(h,"iu")&&(b.impersonator=h.iu),s[o]=b,b}function n(o){try{return JSON.parse(g.decode(o))}catch{throw new Error("Invalid token")}}function t(o,a){return Object.prototype.hasOwnProperty.call(o,a)}return ue=r,ue}var le={exports:{}},We;function Ht(){return We||(We=1,function(g){var s=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function t(i,h,b){this.fn=i,this.context=h,this.once=b||!1}function o(i,h,b,v,E){if(typeof b!="function")throw new TypeError("The listener must be a function");var L=new t(b,v||i,E),d=r?r+h:h;return i._events[d]?i._events[d].fn?i._events[d]=[i._events[d],L]:i._events[d].push(L):(i._events[d]=L,i._eventsCount++),i}function a(i,h){--i._eventsCount===0?i._events=new n:delete i._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],b,v;if(this._eventsCount===0)return h;for(v in b=this._events)s.call(b,v)&&h.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(b)):h},c.prototype.listeners=function(h){var b=r?r+h:h,v=this._events[b];if(!v)return[];if(v.fn)return[v.fn];for(var E=0,L=v.length,d=new Array(L);E<L;E++)d[E]=v[E].fn;return d},c.prototype.listenerCount=function(h){var b=r?r+h:h,v=this._events[b];return v?v.fn?1:v.length:0},c.prototype.emit=function(h,b,v,E,L,d){var e=r?r+h:h;if(!this._events[e])return!1;var u=this._events[e],m=arguments.length,x,_;if(u.fn){switch(u.once&&this.removeListener(h,u.fn,void 0,!0),m){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,b),!0;case 3:return u.fn.call(u.context,b,v),!0;case 4:return u.fn.call(u.context,b,v,E),!0;case 5:return u.fn.call(u.context,b,v,E,L),!0;case 6:return u.fn.call(u.context,b,v,E,L,d),!0}for(_=1,x=new Array(m-1);_<m;_++)x[_-1]=arguments[_];u.fn.apply(u.context,x)}else{var p=u.length,l;for(_=0;_<p;_++)switch(u[_].once&&this.removeListener(h,u[_].fn,void 0,!0),m){case 1:u[_].fn.call(u[_].context);break;case 2:u[_].fn.call(u[_].context,b);break;case 3:u[_].fn.call(u[_].context,b,v);break;case 4:u[_].fn.call(u[_].context,b,v,E);break;default:if(!x)for(l=1,x=new Array(m-1);l<m;l++)x[l-1]=arguments[l];u[_].fn.apply(u[_].context,x)}}return!0},c.prototype.on=function(h,b,v){return o(this,h,b,v,!1)},c.prototype.once=function(h,b,v){return o(this,h,b,v,!0)},c.prototype.removeListener=function(h,b,v,E){var L=r?r+h:h;if(!this._events[L])return this;if(!b)return a(this,L),this;var d=this._events[L];if(d.fn)d.fn===b&&(!E||d.once)&&(!v||d.context===v)&&a(this,L);else{for(var e=0,u=[],m=d.length;e<m;e++)(d[e].fn!==b||E&&!d[e].once||v&&d[e].context!==v)&&u.push(d[e]);u.length?this._events[L]=u.length===1?u[0]:u:a(this,L)}return this},c.prototype.removeAllListeners=function(h){var b;return h?(b=r?r+h:h,this._events[b]&&a(this,b)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,g.exports=c}(le)),le.exports}var ce,Ze;function $t(){if(Ze)return ce;Ze=1;function g(a){return a.map(encodeURIComponent).join(",")}function s(a){return Array.isArray(a)?g(a):encodeURIComponent(String(a))}function r(a,c,i){if(i===!1||i===null)return a;var h=/\?/.test(a)?"&":"?",b=encodeURIComponent(c);return i!==void 0&&i!==""&&i!==!0&&(b+="="+s(i)),""+a+h+b}function n(a,c){if(!c)return a;var i=a;return Object.keys(c).forEach(function(h){var b=c[h];b!==void 0&&(Array.isArray(b)&&(b=b.filter(function(v){return v!=null}).join(",")),i=r(i,h,b))}),i}function t(a,c){if(!c||a.slice(0,4)==="http")return a;var i=a[0]==="/"?"":"/";return""+c.replace(/\/$/,"")+i+a}function o(a,c){return c?a.replace(/\/:([a-zA-Z0-9]+)/g,function(i,h){var b=c[h];if(b===void 0)throw new Error("Unspecified route parameter "+h);var v=s(b);return"/"+v}):a}return ce={appendQueryObject:n,appendQueryParam:r,prependOrigin:t,interpolateRouteParams:o},ce}var he,Je;function Qt(){if(Je)return he;Je=1;var g=yt(),s=j(),r=Ht(),n=$t(),t=H(),o=1;function a(c,i){if(!c)throw new Error("MapiRequest requires a client");if(!i||!i.path||!i.method)throw new Error("MapiRequest requires an options object with path and method properties");var h={};i.body&&(h["content-type"]="application/json");var b=s(h,i.headers),v=Object.keys(b).reduce(function(E,L){return E[L.toLowerCase()]=b[L],E},{});this.id=o++,this._options=i,this.emitter=new r,this.client=c,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=i.path,this.method=i.method,this.origin=i.origin||c.origin,this.query=i.query||{},this.params=i.params||{},this.body=i.body||null,this.file=i.file||null,this.encoding=i.encoding||"utf8",this.sendFileAs=i.sendFileAs||null,this.headers=v}return a.prototype.url=function(i){var h=n.prependOrigin(this.path,this.origin);h=n.appendQueryObject(h,this.query);var b=this.params,v=i??this.client.accessToken;if(v){h=n.appendQueryParam(h,"access_token",v);var E=g(v).user;b=s({ownerId:E},b)}return h=n.interpolateRouteParams(h,b),h},a.prototype.send=function(){var i=this;if(i.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return i.sent=!0,i.client.sendRequest(i).then(function(h){return i.response=h,i.emitter.emit(t.EVENT_RESPONSE,h),h},function(h){throw i.error=h,i.emitter.emit(t.EVENT_ERROR,h),h})},a.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))},a.prototype.eachPage=function(i){var h=this;function b(L){function d(){delete h._nextPageRequest;var e=L.nextPage();e&&(h._nextPageRequest=e,E(e))}i(null,L,d)}function v(L){i(L,null,function(){})}function E(L){L.send().then(b,v)}E(this)},a.prototype.clone=function(){return this._extend()},a.prototype._extend=function(i){var h=s(this._options,i);return new a(this.client,h)},he=a,he}var fe,Xe;function bt(){if(Xe)return fe;Xe=1;var g=yt(),s=Qt(),r=H();function n(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");g(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||r.API_ORIGIN}return n.prototype.createRequest=function(o){return new s(this,o)},fe=n,fe}var de,Ye;function _t(){if(Ye)return de;Ye=1;var g=Vt(),s=bt();function r(t){s.call(this,t)}r.prototype=Object.create(s.prototype),r.prototype.constructor=r,r.prototype.sendRequest=g.browserSend,r.prototype.abortRequest=g.browserAbort;function n(t){return new r(t)}return de=n,de}var pe,et;function Kt(){if(et)return pe;et=1;var g=_t();return pe=g,pe}var ge,tt;function Wt(){if(tt)return ge;tt=1;var g=Object.prototype.toString;return ge=function(s){var r;return g.call(s)==="[object Object]"&&(r=Object.getPrototypeOf(s),r===null||r===Object.getPrototypeOf({}))},ge}var ve,rt;function Zt(){if(rt)return ve;rt=1;var g=Wt(),s=j(),r="value",n=`
  `,t={};t.assert=function(d,e){return e=e||{},function(u){var m=a(d,u);if(m){var x=c(m,e);throw e.apiName&&(x=e.apiName+": "+x),new Error(x)}}},t.shape=function(e){var u=L(e);return function(x){var _=a(t.plainObject,x);if(_)return _;for(var p,l,f=[],y=0;y<u.length;y++)p=u[y].key,l=u[y].value,_=a(l,x[p]),_&&f.push([p].concat(_));return f.length<2?f[0]:function(w){f=f.map(function(S){var C=S[0],M=c(S,w).split(`
`).join(n);return"- "+C+": "+M});var O=w.path.join("."),R=O===r?"":" of "+O;return"The following properties"+R+" have invalid values:"+n+f.join(n)}}},t.strictShape=function(e){var u=t.shape(e);return function(x){var _=u(x);if(_)return _;var p=Object.keys(x).reduce(function(l,f){return e[f]===void 0&&l.push(f),l},[]);if(p.length!==0)return function(){return"The following keys are invalid: "+p.join(", ")}}},t.arrayOf=function(e){return o(e)},t.tuple=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return o(e)};function o(d){var e=Array.isArray(d),u=function(m){return e?d[m]:d};return function(x){var _=a(t.plainArray,x);if(_)return _;if(e&&x.length!==d.length)return"an array with "+d.length+" items";for(var p=0;p<x.length;p++)if(_=a(u(p),x[p]),_)return[p].concat(_)}}t.required=function(e){function u(m){return m==null?function(x){return v(x,E(x.path)?"cannot be undefined/null.":"is required.")}:e.apply(this,arguments)}return u.__required=!0,u},t.oneOfType=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(m){var x=e.map(function(_){return a(_,m)}).filter(Boolean);if(x.length===e.length)return x.every(function(_){return _.length===1&&typeof _[0]=="string"})?i(x.map(function(_){return _[0]})):x.reduce(function(_,p){return p.length>_.length?p:_})}},t.equal=function(e){return function(m){if(m!==e)return JSON.stringify(e)}},t.oneOf=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),u=e.map(function(m){return t.equal(m)});return t.oneOfType.apply(this,u)},t.range=function(e){var u=e[0],m=e[1];return function(_){var p=a(t.number,_);if(p||_<u||_>m)return"number between "+u+" & "+m+" (inclusive)"}},t.any=function(){},t.boolean=function(e){if(typeof e!="boolean")return"boolean"},t.number=function(e){if(typeof e!="number")return"number"},t.plainArray=function(e){if(!Array.isArray(e))return"array"},t.plainObject=function(e){if(!g(e))return"object"},t.string=function(e){if(typeof e!="string")return"string"},t.func=function(e){if(typeof e!="function")return"function"};function a(d,e){if(!(e==null&&!d.hasOwnProperty("__required"))){var u=d(e);if(u)return Array.isArray(u)?u:[u]}}function c(d,e){var u=d.length,m=d[u-1],x=d.slice(0,u-1);return x.length===0&&(x=[r]),e=s(e,{path:x}),typeof m=="function"?m(e):v(e,h(m))}function i(d){return d.length<2?d[0]:d.length===2?d.join(" or "):d.slice(0,-1).join(", ")+", or "+d.slice(-1)}function h(d){return"must be "+b(d)+"."}function b(d){return/^an? /.test(d)?d:/^[aeiou]/i.test(d)?"an "+d:/^[a-z]/i.test(d)?"a "+d:d}function v(d,e){var u=E(d.path),m=d.path.join(".")+" "+e,x=u?"Item at position ":"";return x+m}function E(d){return typeof d[d.length-1]=="number"||typeof d[0]=="number"}function L(d){return Object.keys(d||{}).map(function(e){return{key:e,value:d[e]}})}return t.validate=a,t.processMessage=c,ve=t,ve}var me,nt;function Jt(){if(nt)return me;nt=1;var g=j(),s=Zt();function r(a){if(typeof window<"u")return a instanceof T.Blob||a instanceof T.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof a=="string"||a.pipe!==void 0))return"Filename or Readable stream"}function n(a,c){return s.assert(s.strictShape(a),c)}function t(a){var c="date";if(typeof a=="boolean")return c;try{var i=new Date(a);if(i.getTime&&isNaN(i.getTime()))return c}catch{return c}}function o(a){return s.tuple(s.number,s.number)(a)}return me=g(s,{file:r,date:t,coordinates:o,assertShape:n}),me}var ye,it;function Xt(){if(it)return ye;it=1;function g(s,r){var n=function(t,o){return r.indexOf(t)!==-1&&o!==void 0};return typeof r=="function"&&(n=r),Object.keys(s).filter(function(t){return n(t,s[t])}).reduce(function(t,o){return t[o]=s[o],t},{})}return ye=g,ye}var be,ot;function Yt(){if(ot)return be;ot=1;function g(s,r){return Object.keys(s).reduce(function(n,t){return n[t]=r(t,s[t]),n},{})}return be=g,be}var _e,st;function er(){if(st)return _e;st=1;var g=Yt();function s(r){return g(r,function(n,t){return typeof t=="boolean"?JSON.stringify(t):t})}return _e=s,_e}var Ee,at;function tr(){if(at)return Ee;at=1;var g=bt(),s=_t();function r(n){return function(t){var o;g.prototype.isPrototypeOf(t)?o=t:o=s(t);var a=Object.create(n);return a.client=o,a}}return Ee=r,Ee}var xe,ut;function rr(){if(ut)return xe;ut=1;var g=j(),s=Jt(),r=Xt(),n=er(),t=tr(),o={},a=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];return o.forwardGeocode=function(c){s.assertShape({query:s.required(s.string),mode:s.oneOf("mapbox.places","mapbox.places-permanent"),countries:s.arrayOf(s.string),proximity:s.oneOf(s.coordinates,"ip"),types:s.arrayOf(s.oneOf(a)),autocomplete:s.boolean,bbox:s.arrayOf(s.number),limit:s.number,language:s.arrayOf(s.string),routing:s.boolean,fuzzyMatch:s.boolean,worldview:s.string,session_token:s.string})(c),c.mode=c.mode||"mapbox.places";var i=n(g({country:c.countries},r(c,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview","session_token"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:r(c,["mode","query"]),query:i})},o.reverseGeocode=function(c){s.assertShape({query:s.required(s.coordinates),mode:s.oneOf("mapbox.places","mapbox.places-permanent"),countries:s.arrayOf(s.string),types:s.arrayOf(s.oneOf(a)),bbox:s.arrayOf(s.number),limit:s.number,language:s.arrayOf(s.string),reverseMode:s.oneOf("distance","score"),routing:s.boolean,worldview:s.string,session_token:s.string})(c),c.mode=c.mode||"mapbox.places";var i=n(g({country:c.countries},r(c,["country","types","bbox","limit","language","reverseMode","routing","worldview","session_token"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:r(c,["mode","query"]),query:i})},xe=t(o),xe}let nr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Et=g=>crypto.getRandomValues(new Uint8Array(g)),xt=(g,s,r)=>{let n=(2<<Math.log(g.length-1)/Math.LN2)-1,t=-~(1.6*n*s/g.length);return(o=s)=>{let a="";for(;;){let c=r(t),i=t|0;for(;i--;)if(a+=g[c[i]&n]||"",a.length===o)return a}}},ir=(g,s=21)=>xt(g,s,Et),or=(g=21)=>crypto.getRandomValues(new Uint8Array(g)).reduce((s,r)=>(r&=63,r<36?s+=r.toString(36):r<62?s+=(r-26).toString(36).toUpperCase():r>62?s+="-":s+="_",s),"");const sr=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:ir,customRandom:xt,nanoid:or,random:Et,urlAlphabet:nr},Symbol.toStringTag,{value:"Module"})),ar=Ct(sr);var we,lt;function ur(){if(lt)return we;lt=1;var g=ar.nanoid;function s(r){this.origin=r.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=r.accessToken,this.version="0.3.0",this.pluginSessionID=this.generateSessionID(),this.sessionIncrementer=0,this.userAgent=this.getUserAgent(),this.options=r,this.send=this.send.bind(this),this.countries=r.countries?r.countries.split(","):null,this.types=r.types?r.types.split(","):null,this.bbox=r.bbox?r.bbox:null,this.language=r.language?r.language.split(","):null,this.limit=r.limit?+r.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(r),this.eventQueue=new Array,this.flushInterval=r.flushInterval||1e3,this.maxQueueSize=r.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}return s.prototype={select:function(r,n){var t=this.getEventPayload("search.select",n,{selectedFeature:r});if(t&&!(t.resultIndex===this.lastSentIndex&&t.queryString===this.lastSentInput||t.resultIndex==-1))return this.lastSentIndex=t.resultIndex,this.lastSentInput=t.queryString,this.push(t)},start:function(r){var n=this.getEventPayload("search.start",r);if(n)return this.push(n)},keyevent:function(r,n){if(r.key&&!(r.metaKey||[9,27,37,39,13,38,40].indexOf(r.keyCode)!==-1)){var t=this.getEventPayload("search.keystroke",n,{key:r.key});if(t)return this.push(t)}},send:function(r,n){if(!this.enableEventLogging)return n?n():void 0;var t=this.getRequestOptions(r);this.request(t,function(o){if(o)return this.handleError(o,n);if(n)return n()}.bind(this))},getRequestOptions:function(r){Array.isArray(r)||(r=[r]);var n={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)};return n},getEventPayload:function(r,n,t={}){if(r==="search.select"&&!t.selectedFeature||r==="search.keystroke"&&!t.key)return null;var o;if(!n.options.proximity)o=null;else if(typeof n.options.proximity=="object")o=[n.options.proximity.longitude,n.options.proximity.latitude];else if(n.options.proximity==="ip"){var a=n._headers?n._headers["ip-proximity"]:null;a&&typeof a=="string"?o=a.split(",").map(parseFloat):o=[999,999]}else o=n.options.proximity;var c=n._map?n._map.getZoom():void 0,i={event:r,version:this.getEventSchemaVersion(r),created:+new Date,sessionIdentifier:this.getSessionId(),country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:n.options.autocomplete,fuzzyMatch:n.options.fuzzyMatch,proximity:o,limit:n.options.limit,routing:n.options.routing,worldview:n.options.worldview,mapZoom:c,keyboardLocale:this.locale};if(r==="search.select"?i.queryString=n.inputString:r!="search.select"&&n._inputEl?i.queryString=n._inputEl.value:i.queryString=n.inputString,["search.keystroke","search.select"].includes(r)&&(i.path="geocoding/v5/mapbox.places"),r==="search.keystroke"&&t.key)i.lastAction=t.key;else if(r==="search.select"&&t.selectedFeature){var h=t.selectedFeature,b=this.getSelectedIndex(h,n);if(i.resultIndex=b,i.resultPlaceName=h.place_name,i.resultId=h.id,h.properties&&(i.resultMapboxId=h.properties.mapbox_id),n._typeahead){var v=n._typeahead.data;v&&v.length>0&&(i.suggestionIds=this.getSuggestionIds(v),i.suggestionNames=this.getSuggestionNames(v),i.suggestionTypes=this.getSuggestionTypes(v),i.suggestionSources=this.getSuggestionSources(v))}}return this.validatePayload(i)?i:null},request:function(r,n){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(this.readyState==4)return this.status==204?n(null):n(this.statusText)},t.open(r.method,r.host+"/"+r.path,!0);for(var o in r.headers){var a=r.headers[o];t.setRequestHeader(o,a)}t.send(r.body)},handleError:function(r,n){if(n)return n(r)},generateSessionID:function(){return g()},getSessionId:function(){return this.pluginSessionID+"."+this.sessionIncrementer},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(r,n){if(n._typeahead){var t=n._typeahead.data,o=r.id,a=t.map(function(i){return i.id}),c=a.indexOf(o);return c}},getSuggestionIds:function(r){return r.map(function(n){return n.properties?n.properties.mapbox_id||"":n.id||""})},getSuggestionNames:function(r){return r.map(function(n){return n.place_name||""})},getSuggestionTypes:function(r){return r.map(function(n){return n.place_type&&Array.isArray(n.place_type)&&n.place_type[0]||""})},getSuggestionSources:function(r){return r.map(function(n){return n._source||""})},getEventSchemaVersion:function(r){return["search.keystroke","search.select"].includes(r)?"2.2":"2.0"},validatePayload:function(r){if(!r||!r.event)return!1;var n=["event","created","sessionIdentifier","queryString"],t=["event","created","sessionIdentifier","queryString","lastAction"],o=["event","created","sessionIdentifier","queryString","resultIndex","path","suggestionIds"],a=r.event;return a==="search.start"?this.objectHasRequiredProps(r,n):a==="search.keystroke"?this.objectHasRequiredProps(r,t):a==="search.select"?this.objectHasRequiredProps(r,o):!0},objectHasRequiredProps:function(r,n){return n.every(function(t){return t==="queryString"?typeof r[t]=="string"&&r[t].length>0:r[t]!==void 0})},shouldEnableLogging:function(r){return!(r.enableEventLogging===!1||r.origin&&r.origin!=="https://api.mapbox.com")},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(r,n){this.eventQueue.push(r),(this.eventQueue.length>=this.maxQueueSize||n)&&this.flush()},remove:function(){this.flush()}},we=s,we}var Le,ct;function lr(){if(ct)return Le;ct=1;var g={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"};return Le={placeholder:g},Le}var U={exports:{}},cr=U.exports,ht;function hr(){return ht||(ht=1,function(g){(function(s,r,n){g.exports?g.exports=n():s[r]=n()})(cr,"subtag",function(){var s="",r=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function n(i){return i.match(r)||[]}function t(i){return n(i).filter(function(h,b){return h&&b})}function o(i){return i=n(i),{language:i[1]||s,extlang:i[2]||s,script:i[3]||s,region:i[4]||s}}function a(i,h,b){Object.defineProperty(i,h,{value:b,enumerable:!0})}function c(i,h,b){function v(E){return n(E)[i]||s}a(v,"pattern",h),a(o,b,v)}return c(1,/^[a-zA-Z]{2,3}$/,"language"),c(2,/^[a-zA-Z]{3}$/,"extlang"),c(3,/^[a-zA-Z]{4}$/,"script"),c(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),a(o,"split",t),o})}(U)),U.exports}var Re,ft;function fr(){if(ft)return Re;ft=1;function g(){}return g.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const s={enableHighAccuracy:!0};return new Promise(function(r,n){window.navigator.geolocation.getCurrentPosition(r,n,s)})}},Re=g,Re}var Oe,dt;function dr(){if(dt)return Oe;dt=1;function g(n,t){const o=s(n),a=["address","street","place","country"];var c;if(typeof t=="function")return t(o);const i=a.indexOf(t);return i===-1?c=a:c=a.slice(i),c.reduce(function(h,b){return o[b]?(h!==""&&(h=h+", "),h+o[b]):h},"")}function s(n){const t=n.address||"",o=n.text||"",a=n.place_name||"",i={address:a.split(",")[0],houseNumber:t,street:o,placeName:a};return n.context.forEach(function(h){const b=h.id.split(".")[0];i[b]=h.text}),i}return Oe={transformFeatureToGeolocationText:g,getAddressInfo:s,REVERSE_GEOCODE_COORD_RGX:/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/},Oe}var Se,pt;function pr(){if(pt)return Se;pt=1;var g=It(),s=Pt(),r=j(),n=jt().EventEmitter,t=Bt(),o=Kt(),a=rr(),c=ur(),i=lr(),h=hr(),b=fr(),v=dr();const E={FORWARD:0,LOCAL:1,REVERSE:2};function L(){var e=document.createElement("div");return e.className="mapboxgl-ctrl-geocoder--powered-by",e.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',e}function d(e){this._eventEmitter=new n,this.options=r({},this.options,e),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new b}return d.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(e){return e.place_name},render:function(e){var u=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+u[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+u.splice(1,u.length).join(",")+"</div></div>"}},_headers:{},addTo:function(e){function u(m,x){if(!document.body.contains(x))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const _=m.onAdd();x.appendChild(_)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)u(this,e);else if(typeof e=="string"){const m=document.querySelectorAll(e);if(m.length===0)throw new Error("Element ",e,"not found.");if(m.length>1)throw new Error("Geocoder can only be added to a single html element");u(this,m[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(e){if(e&&typeof e!="string"&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=a(o({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new c(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var u=this.container=document.createElement("div");u.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var m=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",s(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(w){this.eventManager.keyevent(w,this)}.bind(this));var x=document.createElement("div");x.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var _=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(_),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),x.appendChild(this._clearEl),x.appendChild(this._loadingEl),u.appendChild(m),u.appendChild(this._inputEl),u.appendChild(x),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var p=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(p),x.appendChild(this._geolocateEl),this._showGeolocateButton()}var l=this._typeahead=new g(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),l.getItemValue=this.options.getItemValue;var f=l.list.draw,y=this._footerNode=L();return l.list.draw=function(){f.call(this),y.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),y.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(y)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),u},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(e){this._hideLoadingIcon();const u={geometry:{type:"Point",coordinates:[e.coords.longitude,e.coords.latitude]}};this._handleMarker(u),this._fly(u),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(u),this._showClearButton(),this.fresh=!1;const m={limit:1,language:[this.options.language],query:u.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const x=u.geometry.coordinates[0]+","+u.geometry.coordinates[1];this._setInputValue(x),this._eventEmitter.emit("result",{result:u})}else this.geocoderService.reverseGeocode(m).send().then(function(x){const _=x.body.features[0];if(_){const p=v.transformFeatureToGeolocationText(_,this.options.addressAccuracy);this._setInputValue(p),_.user_coordinates=u.geometry.coordinates,this._eventEmitter.emit("result",{result:_})}else this._eventEmitter.emit("result",{result:{user_coordinates:u.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(e){e.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(e,u){var m=document.createElementNS("http://www.w3.org/2000/svg","svg");return m.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e),m.setAttribute("viewBox","0 0 18 18"),m.setAttribute("xml:space","preserve"),m.setAttribute("width",18),m.setAttribute("height",18),m.innerHTML=u,m},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(e){this._inputEl.value=e,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(e){var u=(e.clipboardData||window.clipboardData).getData("text");u.length>=this.options.minLength&&this._geocode(u)},_onKeyDown:function(e){var u=27,m=9;if(e.keyCode===u&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var x=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target,_=x?x.value:"";if(!_)return this.fresh=!0,e.keyCode!==m&&this.clear(e),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(e.metaKey||[m,u,37,39,13,38,40].indexOf(e.keyCode)!==-1)&&x.value.length>=this.options.minLength&&this._geocode(x.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;e&&JSON.stringify(e)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(e),this.options.marker&&this._mapboxgl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._eventEmitter.emit("result",{result:e}),this.eventManager.select(e,this))},_fly:function(e){var u;if(e.properties&&t[e.properties.short_code])u=r({},this.options.flyTo),this._map&&this._map.fitBounds(t[e.properties.short_code].bbox,u);else if(e.bbox){var m=e.bbox;u=r({},this.options.flyTo),this._map&&this._map.fitBounds([[m[0],m[1]],[m[2],m[3]]],u)}else{var x={zoom:this.options.zoom};u=r({},x,this.options.flyTo),e.center?u.center=e.center:e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&(u.center=e.geometry.coordinates),this._map&&this._map.flyTo(u)}},_requestType:function(e,u){var m;return e.localGeocoderOnly?m=E.LOCAL:e.reverseGeocode&&v.REVERSE_GEOCODE_COORD_RGX.test(u)?m=E.REVERSE:m=E.FORWARD,m},_setupConfig:function(e,u){const m=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],x=/[\s,]+/;var _=this,p=m.reduce(function(f,y){if(_.options[y]===void 0||_.options[y]===null)return f;["countries","types","language"].indexOf(y)>-1?f[y]=_.options[y].split(x):f[y]=_.options[y];const w=typeof _.options[y].longitude=="number"&&typeof _.options[y].latitude=="number";if(y==="proximity"&&w){const O=_.options[y].longitude,R=_.options[y].latitude;f[y]=[O,R]}return f},{});switch(e){case E.REVERSE:{var l=u.split(x).map(function(f){return parseFloat(f,10)});_.options.flipCoordinates||l.reverse(),p.types&&p.types[0],p=r(p,{query:l,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(f){f in p&&delete p[f]})}break;case E.FORWARD:{const f=u.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(f)&&(u=u.replace(/,/g," ")),p=r(p,{query:u})}break}return p.session_token=this.eventManager.getSessionId(),p},_geocode:function(e){this.inputString=e,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:e});const u=this._requestType(this.options,e),m=this._setupConfig(u,e);var x;switch(u){case E.LOCAL:x=Promise.resolve();break;case E.FORWARD:x=this.geocoderService.forwardGeocode(m).send();break;case E.REVERSE:x=this.geocoderService.reverseGeocode(m).send();break}var _=this.options.localGeocoder?this.options.localGeocoder(e)||[]:[],p=[],l=null;return x.catch(function(f){l=f}.bind(this)).then(function(f){this._hideLoadingIcon();var y={};return f?f.statusCode=="200"&&(y=f.body,y.request=f.request,y.headers=f.headers,this._headers=f.headers):y={type:"FeatureCollection",features:[]},y.config=m,this.fresh&&(this.eventManager.start(this),this.fresh=!1),y.features&&y.features.length&&y.features.map(function(w){w._source="mapbox"}),y.features=y.features?_.concat(y.features):_,this.options.externalGeocoder?(p=this.options.externalGeocoder(e,y.features)||Promise.resolve([]),p.then(function(w){return y.features=y.features?w.concat(y.features):w,y},function(){return y})):y}.bind(this)).then(function(f){if(l)throw l;this.options.filter&&f.features.length&&(f.features=f.features.filter(this.options.filter)),f.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",f),this._typeahead.update(f.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",f))}.bind(this)).catch(function(f){this._hideLoadingIcon(),this._hideAttribution(),_.length&&this.options.localGeocoder||p.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(_)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:_}),this._eventEmitter.emit("error",{error:f})}.bind(this)),x},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this.eventManager.sessionIncrementer++,this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){var u=this;e.relatedTarget&&u._clear(e)},_onQueryResult:function(e){var u=e.body;if(u.features.length){var m=u.features[0];this._typeahead.selected=m,this._inputEl.value=m.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){var e="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(e)},_renderLocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(e)},_renderNoResults:function(){var e="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(e)},_renderUserDeniedGeolocationError:function(){var e="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(e)},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],u=h.language(e),m=i.placeholder[u];if(m)return m}return"Search"},setInput:function(e,u){return u===void 0&&(u=!1),this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&(u?this._geocode(e):this._onChange()),this},setProximity:function(e,u=!0){return this.options.proximity=e,u&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&typeof e=="function"&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var u=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||u,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.options.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.options.placeholder,this._inputEl.setAttribute("aria-label",this.options.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setOrigin:function(e){return this.options.origin=e,this.geocoderService=a(o({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(e){return this.options.accessToken=e,this.geocoderService=a(o({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(e){return this.options.autocomplete=e,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(e){return this.options.fuzzyMatch=e,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(e){return this.options.routing=e,this},getRouting:function(){return this.options.routing},setWorldview:function(e){return this.options.worldview=e,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(e){if(this._map){this._removeMarker();var u={color:"#4668F2"},m=r({},u,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(m),e.center?this.mapMarker.setLngLat(e.center).addTo(this._map):e.geometry&&e.geometry.type&&e.geometry.type==="Point"&&e.geometry.coordinates&&this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(e,u){return this._eventEmitter.on(e,u),this},off:function(e,u){return this._eventEmitter.removeListener(e,u),this.eventManager.remove(),this}},Se=d,Se}var gr=pr();const vr=qt(gr),wt=document.getElementById("location-button"),P=document.getElementById("location-modal"),Ce=document.getElementById("location-text"),gt=document.getElementById("geocoder-container"),A=document.getElementById("locate-me"),G=wt?.querySelector("svg"),vt=document.getElementById("clear-location-container"),mr=document.getElementById("clear-location"),mt=new vr({accessToken:"pk.eyJ1Ijoic2ZoYWRtaW4iLCJhIjoiY2t6bWZnY2VhNWY0djJwdHZhZnpvY3prbSJ9.5vyd64pGtGwl9YfMNFH9eQ",countries:"us,ca,gb,fr,de,it,es,pt,au,nz,jp,kr,cn",language:"en",placeholder:"Search for a location...",types:"place,locality,neighborhood,address",bbox:[-180,-90,180,90],limit:5,minLength:2,flyTo:!1,marker:!1,mapboxgl:Mt});function F(){const g=localStorage.getItem("userLocation");g&&Ce&&G?(Ce.textContent=g,G.classList.remove("text-base-content/70"),G.classList.add("text-primary"),vt?.classList.remove("hidden")):(Ce.textContent="Set a Location",G.classList.remove("text-primary"),G.classList.add("text-base-content/70"),vt?.classList.add("hidden"))}F();wt?.addEventListener("click",()=>{P.showModal(),F()});P?.addEventListener("click",g=>{g.target===P&&P.close()});mr?.addEventListener("click",()=>{localStorage.removeItem("userLocation"),localStorage.removeItem("userCoordinates"),F(),P.close()});gt&&(gt.appendChild(mt.onAdd()),mt.on("result",g=>{const s=g.result,r=s.place_name.split(",")[0],n=s.center;localStorage.setItem("userLocation",r),localStorage.setItem("userCoordinates",JSON.stringify({lat:n[1],lng:n[0]})),window.dispatchEvent(new CustomEvent("locationChanged",{detail:{lat:n[1],lng:n[0]}})),F(),P.close()}));A?.addEventListener("click",()=>{navigator.geolocation?(A.disabled=!0,A.innerHTML=`
                <span class="loading loading-spinner loading-sm"></span>
                Detecting location...
            `,navigator.geolocation.getCurrentPosition(async g=>{try{const r=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${g.coords.latitude}&lon=${g.coords.longitude}`)).json(),n=r.address;let t="";if(n.country_code==="us"){const o=n.city||n.town||n.village,a=n.state;o&&a&&(t=`${o}, ${a}`)}else{const o=n.city||n.town||n.village,a=n.country;o&&a&&(t=`${o}, ${a}`)}t||(t=r.display_name.split(",")[0]),localStorage.setItem("userLocation",t),localStorage.setItem("userCoordinates",JSON.stringify({lat:g.coords.latitude,lng:g.coords.longitude})),window.dispatchEvent(new CustomEvent("locationChanged",{detail:{lat:g.coords.latitude,lng:g.coords.longitude}})),F(),A.disabled=!1,A.innerHTML=`
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Use My Location
                        `,P.close()}catch(s){console.error("Error getting location name:",s),alert("Could not get location name. Please try again."),A.disabled=!1,A.innerHTML=`
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Use My Location
                        `}},g=>{console.error("Error getting location:",g),alert("Could not get your location. Please try again."),A.disabled=!1,A.innerHTML=`
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        Use My Location
                    `})):alert("Geolocation is not supported by your browser")});
